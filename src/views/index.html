<!DOCTYPE html>
<html lang="en-US">
<title>Telepresencia</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="../css/lightbox.min.css" type="text/css">

<link rel="stylesheet" href="../css/style.css" type="text/css">
<link rel="stylesheet" href="../css/stylechat.css" type="text/css">
<link rel="stylesheet" href="../css/galeria.css" type="text/css">

<script src="../js/lightbox-plus-jquery.min.js" type="text/javascript"></script>

<link rel="stylesheet" href="../node_modules/angular-material/angular-material.css">


<script src="../node_modules/angular/angular.js"></script>
<script src="../node_modules/angular-aria/angular-aria.js"></script>
<script src="../node_modules/angular-animate/angular-animate.js"></script>
<script src="../node_modules/angular-messages/angular-messages.js"></script>
<script src="../node_modules/angular-material/angular-material.js"></script>





<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">


<script src="../js/RecordRTC.js"></script>
<!-- <script src="https://cdn.webrtc-experiment.com/RecordRTC.js"></script> -->

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

<script src="../node_modules/ng-file-upload/dist/ng-file-upload-shim.min.js"></script>
<script src="../node_modules/ng-file-upload/dist/ng-file-upload.min.js"></script>



<body>
    <div ng-app="myApp" ng-controller="myCtrl" ng-init="connect()">
        <div class="w3-sidebar w3-bar-block w3-card w3-animate-left" style="display:none" id="mySidebar">
            <input type="text" ng-model="searchText" placeholder="Buscar Inspección">
            <ul class="list-unstyled components">
                <div style="overflow-y: auto; height:150px; height: auto;">
                    <li ng-repeat="friend in friends">
                        <a ng-repeat="inspeccion in friend.inspecciones | filter:searchText">
                            <button ng-click="cargarDatosInspeccion(inspeccion)">ver</button>
                            <table style="margin-left:auto;margin-right:auto;">
                                <tr>
                                    <th class="tg-nrix">
                                        <md-button ng-click="llamar(inspeccion)" class="md-fab md-mini md-primary"
                                            aria-label="Use Android">
                                            <md-icon md-svg-src="../images/camara-web.svg"></md-icon>
                                        </md-button>
                                    </th>
                                    <th class="tg-nrix">

                                        <md-button ng-click="chat(inspeccion)" class="md-fab md-mini md-primary"
                                            aria-label="Use Android">
                                            <md-icon md-svg-src="../images/charlar.svg"></md-icon>
                                        </md-button>
                                    </th>
                                    <th class="tg-baqh">
                                        <md-button ng-click="" class="md-fab md-mini md-primary"
                                            aria-label="Use Android">
                                            <md-icon md-svg-src="../images/tarea-completada.svg"></md-icon>
                                        </md-button>

                                    </th>
                                    <th class="tg-baqh" colspan="2">{{inspeccion.fechaHora}}</th>
                                </tr>
                                <tr>
                                    <td class="tg-nrix" colspan="3">{{friend.Nombrecliente}}</td>
                                    <td class="tg-baqh" colspan="2">{{inspeccion.numero}}</td>
                                </tr>
                            </table>
                        </a>
                    </li>
                </div>
            </ul>

        </div>

        <div id="main">

            <div class="w3-teal">
                <!-- <button id="openNav" class="w3-button w3-teal w3-xlarge" ng-click="w3_open()">&#9776;</button> -->
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <button id="openNav" class="w3-button w3-teal w3-xlarge" ng-click="w3_open()">
                        <i class="fa fa-align-justify "></i> <span>&#9776</span>
                    </button>
                    <!--<a class="navbar-brand " href="# ">Navbar</a> -->
                    <button id="sidebarCollapse " class="navbar-toggler " type="button " data-toggle="collapse "
                        data-target="#navbarNav " aria-controls="navbarNav " aria-expanded="false "
                        aria-label="Toggle navigation ">
                        <span class="navbar-toggler-icon "></span>
                    </button>
                    <div class="collapse navbar-collapse " id="navbarNav ">
                        <ul class="navbar-nav ml-auto ">

                            <div class="dropdown" style="float:right;">
                                <button class="dropbtn">
                                    <img src="{{avatarUserLogin}}" alt="Avatar"
                                        style="width:2.25rem; height: 2.25rem; border-radius: 50%;">
                                </button>
                                <div class="dropdown-content">
                                    <a style="color:rgb(58, 54, 54)">{{userLoginName}}</a>
                                    <a style="color:rgb(58, 54, 54)" ng-click="logout()">Log out</a>
                                </div>
                            </div>

                        </ul>
                    </div>

                </nav>
            </div>


            <div class="w3-container" style="width:100%; height:100%; padding: 0.3em 29px;">

                <div class="w3-row " style="padding: 10px">
                    <div class="w3-col w3-border w3-container" style="text-align: center">
                        <div id="videoTam" class="w3-col w3-container " style="width:60% " height="auto">
                            <video crossorigin="use-credentials" playsinline controls
                                style="padding: 35px; width:100%; height:460px;" id="remote-view-video"
                                autoplay></video>
                            <md-button id="btnColgar" ng-click="colgar()" style="visibility: hidden"
                                class="md-fab md-mini md-primary" aria-label="Use Android">
                                <md-icon md-svg-src="../images/colgar.svg"></md-icon>
                            </md-button>
                            <md-button id="btnScreen" ng-click="screenshot()" style="visibility: hidden"
                                class="md-fab md-mini md-primary" aria-label="Use Android">
                                <md-icon md-svg-src="../images/pantalla.svg"></md-icon>
                            </md-button>
                            <!-- <textarea ng-model="myMessage" placeholder="Ingresa tu mensaje " ng-keypress="sendMessageIntro($event)" required style="width:100%"></textarea> -->


                            <textarea ng-model="myMessageObservation" placeholder="Ingresa tu observación "
                                ng-keypress="sendObservation($event)" required style="width:100%"></textarea>


                            <canvas id="canvas" width="300" height="300" style="display:none"></canvas>
                        </div>

                        <div id="imagesTam" class="w3-col w3-blue w3-container " style="width:40%;text-align: center">
                            <div style="overflow-y: auto; height:150px; height: 517px;">
                                <div class="gallery">
                                    <div ng-repeat="screen in imagesScreenshot">
                                        <a href="{{multimediaUrl}}/screenshot/{{screen.name}}" data-lightbox="mygallery"
                                            data-title="{{screen.name}}">
                                            <img ng-src="{{multimediaUrl}}/screenshot/{{screen.name}}">
                                        </a>
                                    </div>
                                    <div ng-repeat="video in videosInspeccion">
                                        <a href="{{multimediaUrl}}/videos/{{screen.name}}" data-lightbox="mygallery"
                                            data-title="{{screen.name}}">
                                            <video style=" width: 285px; " src="{{multimediaUrl}}/videos/{{video.name}}"
                                                controls> </video>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="chatTam" class="w3-col  w3-container " ng-hide="hideChat">
                            <div my-customer type="chat"></div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    </div>
    <script src="../js/bundle.js "></script>
    <script src="../js/bundle2.js "></script>

    <script src="../../src/controllers/app.js "></script>
    <script src="../../src/controllers/chatController.js "></script>
    <script src="../../src/directives/chatDirective.js "></script>
</body>

</html>